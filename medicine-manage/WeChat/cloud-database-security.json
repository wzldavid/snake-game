{
  "description": "CloudBase数据库安全规则配置文件",
  "note": "由于CloudBase环境连接失败,请在云开发控制台手动配置以下安全规则",
  "envId": "wzldavid-4gwhey9fe011d906",
  "consoleUrl": "https://tcb.cloud.tencent.com/dev?envId=wzldavid-4gwhey9fe011d906#/db/doc/security",
  "collections": [
    {
      "collectionName": "users",
      "description": "用户表",
      "rule": {
        "read": "auth != null && auth.openid == doc._openid",
        "write": "auth != null && auth.openid == doc._openid"
      },
      "note": "用户只能读写自己的数据"
    },
    {
      "collectionName": "blood_glucose",
      "description": "血糖记录表",
      "rule": {
        "read": "auth != null && auth.openid == doc._openid",
        "write": "auth != null && auth.openid == doc._openid"
      },
      "note": "用户只能读写自己的血糖记录"
    },
    {
      "collectionName": "blood_pressure",
      "description": "血压记录表",
      "rule": {
        "read": "auth != null && auth.openid == doc._openid",
        "write": "auth != null && auth.openid == doc._openid"
      },
      "note": "用户只能读写自己的血压记录"
    },
    {
      "collectionName": "abnormal_alerts",
      "description": "异常预警表",
      "rule": {
        "read": "false",
        "write": "false"
      },
      "note": "仅云函数可读写,客户端无法直接访问"
    },
    {
      "collectionName": "admins",
      "description": "管理员表",
      "rule": {
        "read": "false",
        "write": "false"
      },
      "note": "仅云函数可读写,客户端无法直接访问"
    }
  ],
  "setupInstructions": [
    "1. 打开云开发控制台",
    "2. 进入数据库 -> 集合",
    "3. 点击需要配置的集合名称",
    "4. 点击'权限设置'标签",
    "5. 选择'自定义'权限",
    "6. 将上面的规则复制到编辑框中",
    "7. 点击'保存'"
  ]
}
