# 需求文档 - 老人健康记录小程序

## 文档信息
- **项目名称**: 老人健康记录小程序
- **文档版本**: v1.0
- **创建日期**: 2026-01-31
- **文档类型**: PRD(产品需求文档)

## 1. 引言

### 1.1 项目背景
随着社会老龄化加剧,老年人的健康管理日益重要。血糖和血压是老年人健康监测的重要指标,但传统的记录方式存在以下痛点:
- 老人需要手动记录,操作繁琐易忘
- 数据分散,难以形成趋势分析
- 家属或医护人员无法及时了解老人健康状况
- 异常数据不能及时预警

### 1.2 项目目标
开发一款专为老年人设计的健康记录小程序,通过便捷的记录方式(手动输入或照片扫描)帮助老人记录血糖、血压数据,并提供周期性的数据分析,使老人和家属能够及时了解健康状况。

### 1.3 用户画像
- **主要用户**: 60岁以上老年人
  - 可能视力不佳,需要大字体、高对比度
  - 操作能力有限,界面需要简洁直观
  - 可能不熟悉复杂操作,流程需要简化
- **次要用户**: 家属/医护人员(通过后台管理系统查看数据)

### 1.4 核心价值
- **便捷记录**: 支持手动输入和照片扫描两种方式
- **智能分析**: 自动生成血糖、血压的趋势分析
- **健康预警**: 异常数据及时提醒
- **数据可视化**: 图表展示,直观易懂

## 2. 功能需求

### 2.1 小程序端功能

#### 需求 2.1.1 - 用户注册与登录

**用户故事**: 作为老人用户,我希望能够快速登录小程序,方便记录健康数据。

**接受标准**:
1. 当用户首次打开小程序时,系统应自动使用微信授权登录
2. 当授权成功后,系统应自动创建用户档案
3. 当用户已注册时,系统应自动登录进入首页
4. 当登录失败时,系统应显示友好的错误提示

---

#### 需求 2.1.2 - 血糖手动记录

**用户故事**: 作为老人用户,我希望能够手动输入血糖值,方便记录测量结果。

**接受标准**:
1. 当用户点击"记录血糖"按钮时,系统应显示血糖记录页面
2. 当用户输入血糖值(空腹、餐后等)时,系统应提供数字键盘输入(避免切换键盘)
3. 当用户选择测量时间时,系统应提供预设选项(空腹、早餐后、午餐后、晚餐后、睡前)
4. 当用户保存血糖记录时,系统应验证数据合理性(如血糖值范围2.0-30.0 mmol/L)
5. 当数据不合理时,系统应提示用户确认
6. 当记录成功时,系统应显示成功提示并返回记录列表

---

#### 需求 2.1.3 - 血压手动记录

**用户故事**: 作为老人用户,我希望能够手动输入血压值,方便记录测量结果。

**接受标准**:
1. 当用户点击"记录血压"按钮时,系统应显示血压记录页面
2. 当用户输入收缩压和舒张压时,系统应提供数字键盘输入
3. 当用户输入心率(可选)时,系统应允许输入60-150次/分
4. 当用户选择测量时间时,系统应默认使用当前时间
5. 当用户保存血压记录时,系统应验证数据合理性(收缩压60-250 mmHg,舒张压40-150 mmHg)
6. 当数据不合理时,系统应提示用户确认
7. 当记录成功时,系统应显示成功提示并返回记录列表

---

#### 需求 2.1.4 - 血糖照片自动扫描

**用户故事**: 作为老人用户,我希望能够拍照或选择已有照片自动识别血糖值,避免手动输入的麻烦。

**接受标准**:
1. 当用户点击"拍照记录"按钮时,系统应调用相机拍照
2. 当用户点击"从相册选择"按钮时,系统应打开相册选择照片
3. 当系统成功识别血糖值时,系统应自动填充到血糖值输入框
4. 当系统识别失败时,系统应提示用户手动输入
5. 当识别结果与测量类型不匹配时,系统应提示用户确认
6. 当识别到的数据明显不合理时,系统应提示用户核对

---

#### 需求 2.1.5 - 血压照片自动扫描

**用户故事**: 作为老人用户,我希望能够拍照或选择已有照片自动识别血压值,避免手动输入的麻烦。

**接受标准**:
1. 当用户点击"拍照记录"按钮时,系统应调用相机拍照
2. 当用户点击"从相册选择"按钮时,系统应打开相册选择照片
3. 当系统成功识别血压值时,系统应自动填充收缩压和舒张压
4. 当系统识别心率时,系统应自动填充心率值(如有)
5. 当系统识别失败时,系统应提示用户手动输入
6. 当识别结果明显不合理时,系统应提示用户核对

---

#### 需求 2.1.6 - 历史记录查看

**用户故事**: 作为老人用户,我希望能够查看历史记录,了解自己的健康状况变化。

**接受标准**:
1. 当用户进入记录列表页面时,系统应显示最近的血糖/血压记录
2. 当用户点击某条记录时,系统应显示该记录的详细信息
3. 当用户查看记录列表时,系统应支持日期筛选(今天、本周、本月)
4. 当记录过多时,系统应支持分页加载(每页20条)
5. 当记录列表为空时,系统应显示友好的引导提示
6. 当用户删除记录时,系统应弹出确认对话框
7. 当删除成功时,系统应更新列表并提示成功

---

#### 需求 2.1.7 - 血糖趋势分析

**用户故事**: 作为老人用户,我希望能够看到血糖的变化趋势,了解自己的血糖控制情况。

**接受标准**:
1. 当用户进入血糖趋势页面时,系统应显示最近7天血糖变化曲线图
2. 当用户选择不同测量时段时,系统应更新曲线图(空腹、餐后等)
3. 当血糖值超过正常范围时,系统应在图表上用不同颜色标注
4. 当用户点击图表数据点时,系统应显示该日期的详细数据
5. 当数据不足时,系统应提示用户继续记录
6. 当数据充足时,系统应显示血糖平均值、最高值、最低值统计

---

#### 需求 2.1.8 - 血压趋势分析

**用户故事**: 作为老人用户,我希望能够看到血压的变化趋势,了解自己的血压控制情况。

**接受标准**:
1. 当用户进入血压趋势页面时,系统应显示最近7天血压变化曲线图
2. 当用户选择不同时间段时,系统应更新曲线图(最近7天、最近30天)
3. 当血压值超过正常范围时,系统应在图表上用不同颜色标注
4. 当用户点击图表数据点时,系统应显示该日期的详细数据
5. 当数据不足时,系统应提示用户继续记录
6. 当数据充足时,系统应显示血压平均值、最高值、最低值统计

---

#### 需求 2.1.9 - 异常数据预警

**用户故事**: 作为老人用户,我希望在血糖或血压异常时能够及时收到提醒,避免健康风险。

**接受标准**:
1. 当用户记录血糖值>11.1 mmol/L(空腹)>13.9 mmol/L(餐后)时,系统应显示高血糖警告
2. 当用户记录血糖值<3.9 mmol/L时,系统应显示低血糖警告
3. 当用户记录收缩压≥140 mmHg或舒张压≥90 mmHg时,系统应显示高血压警告
4. 当用户记录收缩压<90 mmHg或舒张压<60 mmHg时,系统应显示低血压警告
5. 当出现异常数据时,系统应在首页显示红色警示条
6. 当用户点击警示条时,系统应显示异常数据详情和建议

---

#### 需求 2.1.10 - 个人档案管理

**用户故事**: 作为老人用户,我希望能够完善个人信息,便于系统提供个性化建议。

**接受标准**:
1. 当用户进入个人中心时,系统应显示用户基本信息(头像、昵称、性别、年龄)
2. 当用户编辑个人信息时,系统应支持修改姓名、性别、出生日期
3. 当用户选择是否患有糖尿病时,系统应根据病史调整血糖正常范围
4. 当用户选择是否患有高血压时,系统应调整血压预警阈值
5. 当用户保存修改时,系统应验证数据有效性
6. 当保存成功时,系统应显示成功提示

---

### 2.2 后台管理系统功能

#### 需求 2.2.1 - 管理员登录

**用户故事**: 作为管理员,我希望能够安全登录后台管理系统。

**接受标准**:
1. 当管理员访问后台系统时,系统应显示登录页面
2. 当管理员输入正确的用户名和密码时,系统应验证并登录
3. 当用户名或密码错误时,系统应提示错误信息
4. 当连续登录失败3次时,系统应锁定账号10分钟
5. 当登录成功时,系统应跳转到管理首页

---

#### 需求 2.2.2 - 老人列表查看

**用户故事**: 作为管理员,我希望能够查看所有注册的老人信息,便于管理和了解用户情况。

**接受标准**:
1. 当管理员进入老人管理页面时,系统应显示老人列表
2. 当列表中老人信息应包括:昵称、注册时间、最后记录时间
3. 当管理员点击老人信息时,系统应显示该老人的详细信息
4. 当管理员输入老人昵称搜索时,系统应实时过滤列表
5. 当列表数据过多时,系统应支持分页显示(每页20条)
6. 当列表为空时,系统应显示友好提示

---

#### 需求 2.2.3 - 老人健康数据查看(按日)

**用户故事**: 作为管理员,我希望能够查看指定老人某日的详细健康数据,了解其健康状况。

**接受标准**:
1. 当管理员选择某个老人时,系统应显示该老人的健康数据页面
2. 当管理员选择日期时,系统应显示该日的血糖、血压记录
3. 当数据显示时,系统应包括:测量时间、血糖值/血压值、是否异常
4. 当该日有异常数据时,系统应高亮显示
5. 当该日无记录时,系统应显示暂无数据提示
6. 当管理员查看记录详情时,系统应显示完整数据信息

---

#### 需求 2.2.4 - 老人健康趋势查看(按日)

**用户故事**: 作为管理员,我希望能够查看指定老人最近7天的健康数据趋势,评估健康状况。

**接受标准**:
1. 当管理员进入趋势分析页面时,系统应显示默认最近7天的趋势图
2. 当管理员选择不同老人时,系统应更新趋势图
3. 当显示血糖趋势时,系统应同时显示空腹和餐后血糖曲线
4. 当显示血压趋势时,系统应同时显示收缩压和舒张压曲线
5. 当数据异常时,系统应在图表上标注异常点
6. 当管理员点击数据点时,系统应显示该日的详细数据

---

#### 需求 2.2.5 - 异常数据列表

**用户故事**: 作为管理员,我希望能够快速查看所有异常数据,及时关注需要帮助的老人。

**接受标准**:
1. 当管理员进入异常数据页面时,系统应显示所有异常数据列表
2. 当列表显示时,系统应包括:老人昵称、异常类型、数值、时间
3. 当列表按时间倒序排列时,系统应确保最新的异常数据在最前
4. 当管理员筛选异常类型时,系统应支持按血糖异常/血压异常筛选
5. 当管理员点击异常数据时,系统应跳转到该老人的健康数据页面
6. 当有新的异常数据时,系统应在首页显示通知数量

---

#### 需求 2.2.6 - 数据导出

**用户故事**: 作为管理员,我希望能够导出老人的健康数据,便于生成健康报告或进一步分析。

**接受标准**:
1. 当管理员点击导出按钮时,系统应支持导出Excel格式的健康数据
2. 当选择导出范围时,系统应支持按时间范围(最近7天、最近30天、自定义)
3. 当选择导出内容时,系统应支持选择血糖数据、血压数据或全部
4. 当导出成功时,系统应自动下载Excel文件
5. 当Excel文件应包含:老人信息、测量时间、测量值、是否异常
6. 当导出数据量大时,系统应显示进度提示

---

## 3. 非功能需求

### 3.1 性能需求
- 小程序首次加载时间≤3秒
- 数据提交响应时间≤2秒
- 照片识别响应时间≤5秒
- 趋势图表加载时间≤2秒
- 支持至少1000名老人用户同时使用

### 3.2 可用性需求
- 小程序界面字体≥16px
- 按钮最小点击区域≥44x44px
- 核心功能操作步骤≤3步
- 支持语音播报功能(可选)
- 提供操作引导和帮助文档

### 3.3 安全需求
- 用户数据加密存储
- 敏感信息脱敏显示
- 管理员密码加密存储
- 登录失败次数限制
- 数据访问权限控制

### 3.4 可靠性需求
- 系统可用性≥99.5%
- 数据备份周期:每天
- 异常数据保存期:至少1年
- 支持离线数据缓存

## 4. 数据需求

### 4.1 小程序端数据
- 用户信息(微信openid、昵称、性别、年龄、病史)
- 血糖记录(测量时间、血糖值、测量类型、记录时间)
- 血压记录(测量时间、收缩压、舒张压、心率、记录时间)
- 照片记录(照片云存储地址、识别结果)

### 4.2 后台管理数据
- 管理员信息(用户名、密码加密、角色)
- 老人列表(与小程序端用户信息同步)
- 健康数据汇总(按日、周、月统计)
- 异常数据记录(异常类型、数值、时间、处理状态)

## 5. 接口需求

### 5.1 小程序端接口
- 微信登录授权接口
- 血糖记录CRUD接口
- 血压记录CRUD接口
- 照片识别接口(调用AI模型)
- 趋势分析数据接口
- 异常预警接口

### 5.2 后台管理接口
- 管理员登录接口
- 老人列表查询接口
- 老人健康数据查询接口(按日)
- 老人健康趋势接口
- 异常数据查询接口
- 数据导出接口

## 6. UI/UX设计要求

### 6.1 设计风格
- **整体风格**: 温馨亲和,暖色调
- **主色调**: 温暖橙色(#FF9F43) + 柔和米色(#FFF5E6)
- **辅助色**: 警示红色(#FF6B6B)、正常绿色(#51CF66)、文字深灰色(#2D3436)
- **字体**: 微软雅黑,标题18px以上,正文16px,重要数据20px以上
- **图标**: 圆角设计,简洁友好

### 6.2 界面布局
- 首页:大按钮设计,核心功能突出显示
- 记录页面:输入框大尺寸,数字键盘易操作
- 列表页面:卡片式布局,信息层级清晰
- 趋势页面:大图表,数据点可交互

### 6.3 交互设计
- 按钮点击反馈明显
- 重要操作二次确认
- 成功/失败提示清晰
- 支持手势操作(滑动删除等)

## 7. 验收标准

### 7.1 功能验收
- 所有功能需求通过测试
- 核心流程无阻碍
- 异常情况有友好处理
- 数据准确性100%

### 7.2 性能验收
- 响应时间符合性能需求
- 支持1000+并发用户
- 照片识别准确率≥95%
- 系统稳定性测试通过

### 7.3 用户体验验收
- 老年人可独立完成核心操作
- 界面直观易懂
- 操作流程顺畅
- 视觉体验符合设计要求

## 8. 发布计划

### 8.1 开发阶段
- 需求分析与设计: 3天
- 小程序开发: 10天
- 后台管理系统开发: 7天
- 联调测试: 3天

### 8.2 测试阶段
- 功能测试: 3天
- 性能测试: 2天
- 用户体验测试: 2天
- Bug修复: 2天

### 8.3 发布阶段
- 小程序审核提交: 1天
- 后台系统部署: 0.5天
- 灰度发布: 3天
- 正式发布: 1天

---

**文档结束**
